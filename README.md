# ğŸš€ StackOverflow-Clusteringï¼šOracle æ•°æ®åº“é—®é¢˜è¯­ä¹‰èšç±»ä¸å»é‡é¡¹ç›®

## ğŸŒŸ é¡¹ç›®æ¦‚è§ˆ (Project Overview)

æœ¬é¡¹ç›®æ—¨åœ¨å¯¹ **152,758 æ¡**å…³äº `oracle-database` çš„ Stack Overflow é—®ç­”æ•°æ®è¿›è¡Œé«˜ç²¾åº¦**è¯­ä¹‰èšç±» (Semantic Clustering)**ï¼Œä»¥å®ç°ä¸»é¢˜çº§åˆ«çš„**å»é‡å’ŒçŸ¥è¯†èšåˆ**ã€‚

æˆ‘ä»¬é‡‡ç”¨ **SBERT** å‘é‡åŒ–æŠ€æœ¯ç»“åˆ **PCA é™ç»´**ï¼Œå¹¶æœ€ç»ˆé€‰å®š **MiniBatchKMeans (**$K=1180$) æ¨¡å‹è¿›è¡Œåˆ’åˆ†ã€‚é¡¹ç›®çš„æ ¸å¿ƒäº®ç‚¹åœ¨äºå»ºç«‹äº†**å…­ç±»å¯¹ç…§åŸºçº¿ (Baselines)** å’Œ**ä¹å¤§è¯„ä¼°æŒ‡æ ‡ (Metrics)** ä½“ç³»ï¼Œä¸¥æ ¼éªŒè¯äº†èšç±»ç»“æœçš„çœŸå®è¯­ä¹‰ç»“æ„å’Œæœ‰æ•ˆæ€§ã€‚

### æ ¸å¿ƒæˆæœ

- **æœ€ç»ˆæ¨¡å‹ï¼š** MiniBatchKMeans ($K=1180$)

- **è¾“å…¥æ•°æ®ï¼š** PCA é™ç»´è‡³ 256 ç»´çš„ SBERT è¯­ä¹‰å‘é‡ã€‚

- **å»é‡æ•ˆæœï¼š** é€šè¿‡å®šæ€§åˆ†æï¼Œè¯æ˜èšç±»èƒ½é«˜æ•ˆè¯†åˆ«â€œæœ¬è´¨ç›¸åŒä½†è¡¨è¾¾ä¸åŒâ€çš„é‡å¤é—®é¢˜ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆä¸ä¾èµ– (Tech Stack)

| ç±»åˆ«         | åº“/å·¥å…·                                  | ä½œç”¨                                |
| :----------- | :--------------------------------------- | :---------------------------------- |
| **å‘é‡åŒ–**   | `sentence-transformers`                  | ä½¿ç”¨ SBERT æ¨¡å‹ç”Ÿæˆé«˜è´¨é‡è¯­ä¹‰å‘é‡ã€‚ |
| **é™ç»´**     | `scikit-learn` (PCA), `UMAP`             | é«˜ç»´æ•°æ®é™ç»´åŠç©ºé—´ç»“æ„åˆ†æã€‚        |
| **èšç±»**     | `scikit-learn` (MiniBatchKMeans, DBSCAN) | æ¨¡å‹å®ç°ä¸å‚æ•°è°ƒä¼˜ã€‚                |
| **æ•°æ®å¤„ç†** | `pandas`, `numpy`                        | æ•°æ®åŠ è½½ã€æ¸…æ´—ä¸çŸ©é˜µè¿ç®—ã€‚          |
| **å¯è§†åŒ–**   | `matplotlib`, `plotly`                   | ç”Ÿæˆ 2D/3D å¯è§†åŒ–å›¾è¡¨ã€‚             |

## ğŸ“‚ ä»“åº“ç»“æ„è¯´æ˜ (Repository Structure)

æœ¬ä»“åº“æŒ‰ç…§é¡¹ç›®çš„å››ä¸ªä¸»è¦æŠ€æœ¯é˜¶æ®µè¿›è¡Œç»„ç»‡ã€‚

```Markdown
StackOverflow-Clustering/
â”œâ”€â”€ code/                         # æ ¸å¿ƒä»£ç è„šæœ¬
â”‚   â”œâ”€â”€ 01_vectorization/         # æ–‡æœ¬é¢„å¤„ç†ä¸ SBERT ç¼–ç 
â”‚   â”œâ”€â”€ 02_dim_reduction/         # PCA/UMAP é™ç»´ä¸å¯è§†åŒ–
â”‚   â”‚   â”œâ”€â”€ run_dim_reduction.py    # è¿è¡Œ PCA é™ç»´ï¼Œç”Ÿæˆ pca_256.npy
â”‚   â”‚   â””â”€â”€ run_comparison_viz.py   # ç”Ÿæˆ UMAP/t-SNE å¯è§†åŒ–å›¾
â”‚   â”œâ”€â”€ 03_clustering/            # èšç±»æ¨¡å‹å®ç°
â”‚   â”‚   â””â”€â”€ clustering_main.py      # åŒ…å« DBSCAN å°è¯•å’Œ K-Means ä¼˜åŒ– (K=1180)
â”‚   â””â”€â”€ 04_evaluation/            # è¯„ä¼°ä¸å®šæ€§åˆ†ææ¨¡å—
â”‚       â”œâ”€â”€ baseline_generate.py    # ç”Ÿæˆå…­ç±»å¯¹ç…§åŸºçº¿æ•°æ®
|       â”œâ”€â”€ export_question_clusters.py # ç”Ÿæˆå¯¹åº” question id çš„å„ baseline ä¸ ours çš„æ•°æ®
â”‚       â”œâ”€â”€ metrics_extended.py     # è®¡ç®—ä¹å¤§èšç±»æŒ‡æ ‡
â”‚       â””â”€â”€ question_cluster_inspect/topic_tree_generation.py# ç°‡å†…éƒ¨å­ä¸»é¢˜åˆ†è§£åˆ†æ (å®šæ€§)
â”œâ”€â”€ data/                         # æ•°æ®æ–‡ä»¶ (å¤§å‹æ–‡ä»¶éœ€é€šè¿‡é“¾æ¥ä¸‹è½½)
â”‚   â”œâ”€â”€ input/                      # åŸå§‹æ•°æ®é“¾æ¥
â”‚   â””â”€â”€ final_outputs/              # æœ€ç»ˆäº§å‡ºæ•°æ®
â”‚       â””â”€â”€ 1180_final_cluster_labels.csv # â˜… æ ¸å¿ƒèšç±»æ ‡ç­¾æ–‡ä»¶
â”œâ”€â”€ docs/                         # æ–‡æ¡£ä¸æŠ¥å‘Š
â”‚   â”œâ”€â”€ æ€»ç»“æŠ¥å‘Š.md           # å®Œæ•´çš„é¡¹ç›®æŠ€æœ¯æ€»ç»“æŠ¥å‘Š
â”‚   â””â”€â”€ è¯„ä¼°ä¸å®šæ€§åˆ†æ/
â”‚       â””â”€â”€ q_308_å®šæ€§åˆ†ææŠ¥å‘Š.md     # Cluster 816 (QID 308) è¯¦ç»†å®šæ€§åˆ†ææŠ¥å‘Š
â”œâ”€â”€ results/                      # å®éªŒç»“æœè¾“å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ visualization/            # å¯è§†åŒ–å›¾è¡¨
â”‚   â”‚   â”œâ”€â”€ visualization_result.png# 2D èšç±»æ•£ç‚¹å›¾
â”‚   â”‚   â””â”€â”€ 3d_umap_256_dim.html    # 3D äº¤äº’å¼å¯è§†åŒ–æ–‡ä»¶
â”‚   â””â”€â”€ clustering_metrics/       # æ¨¡å‹å¯¹æ¯”å›¾
â”‚       â””â”€â”€ k_distance_plot.png     # DBSCAN å¤±è´¥è¯æ˜å›¾
â””â”€â”€ README.md
```

## ğŸ’¾ æ•°æ®ä¸‹è½½ä¸å‡†å¤‡ (Data Preparation)

ç”±äºåŸå§‹æ•°æ®å’Œ SBERT å‘é‡æ–‡ä»¶ä½“ç§¯è¾ƒå¤§ï¼Œå®ƒä»¬æœªç›´æ¥åŒ…å«åœ¨ GitHub ä»“åº“ä¸­ã€‚

### 1. æ ¸å¿ƒå¤§æ–‡ä»¶ä¸‹è½½ (Core Data Files)

è¯·ä»ä»¥ä¸‹é“¾æ¥ä¸‹è½½æ ¸å¿ƒæ•°æ®æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ”¾å…¥ `data/intermediate/` æ–‡ä»¶å¤¹ä¸­ï¼š

- **åŸå§‹ SBERT å‘é‡ (384D):** \[https://pan.baidu.com/s/1qOxf2zcBrfVJ9aOQue1PPQ?pwd=x8bw] `oracle_full_content_embeddings.npy`

### 2. è¿è¡Œé¡ºåº (Run Sequence)

æŒ‰ä»¥ä¸‹é¡ºåºè¿è¡Œä»£ç ï¼š

1.  **å‘é‡åŒ– (01_vectorization):** è¿è¡Œç›¸åº”çš„å‘é‡åŒ–è„šæœ¬ï¼ˆå¦‚æœè¦é‡æ–°ç”Ÿæˆ `embeddings.npy`ï¼‰ã€‚

2.  **é™ç»´ (02_dim_reduction):** è¿è¡Œ `run_dim_reduction.py` ç”Ÿæˆ `pca_256.npy`ã€‚

3.  **èšç±» (03_clustering):** è¿è¡Œ `clustering_main.py` å¾—åˆ° `1180_final_cluster_labels.csv`ã€‚

4.  **è¯„ä¼° (04_evaluation):** \* è¿è¡Œ `baseline_generate.py` ç”Ÿæˆå¯¹ç…§åŸºçº¿ã€‚

    - è¿è¡Œ `metrics_extended.py` è®¡ç®—å¹¶è¾“å‡ºè¯„ä¼°æŠ¥å‘Š (`cluster_metrics_extended_with_baselines.csv`)ã€‚

    - è¿è¡Œ `topic_tree_generation.py` è¿›è¡Œå®šæ€§åˆ†æã€‚
